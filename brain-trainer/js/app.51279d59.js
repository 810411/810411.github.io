(function(e){function t(t){for(var r,u,a=t[0],o=t[1],l=t[2],m=0,f=[];m<a.length;m++)u=a[m],s[u]&&f.push(s[u][0]),s[u]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},s={app:0},i=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/brain-trainer/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},"0651":function(e,t,n){"use strict";var r=n("a9f9"),s=n.n(r);s.a},"0bad":function(e,t,n){},"0d38":function(e,t,n){},"10ee":function(e,t,n){},1474:function(e,t,n){"use strict";var r=n("978f"),s=n.n(r);s.a},"18fd":function(e,t,n){"use strict";var r=n("8532"),s=n.n(r);s.a},1912:function(e,t,n){},"385c":function(e,t,n){"use strict";var r=n("10ee"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],u=n("0a0d"),a=n.n(u),o=n("cebc"),l=n("2f62"),c={name:"App",methods:Object(o["a"])({},Object(l["b"])(["setLastGameDate"])),beforeMount:function(){null===this.$store.state.lastGameDate&&this.setLastGameDate({amount:a()()})}},m=c,f=(n("034f"),n("2877")),h=Object(f["a"])(m,s,i,!1,null,null,null),d=h.exports,p=n("0e44"),b="sum",v="dif",g="mul",T="div",y=[{id:b,title:"Суммирование",sign:"+"},{id:v,title:"Разность",sign:"-"},{id:g,title:"Умножение",sign:"×"},{id:T,title:"Деление",sign:"÷"}],C=3e3,_=60,k=864e5;r["a"].use(l["a"]);var w=new l["a"].Store({state:{lastGameDate:null,time:"3",level:"2",operations:[b],turnCount:0,trueAnswersCount:0},plugins:[Object(p["a"])()],getters:{roundTime:function(e){var t=e.time;return t*_}},mutations:{setLastGameDate:function(e,t){e.lastGameDate=t.amount},setTime:function(e,t){e.time=t.amount},setLevel:function(e,t){e.level=t.amount},setOperations:function(e,t){e.operations=t.amount},setTurnCount:function(e,t){e.turnCount=t.amount},setTrueAnswersCount:function(e,t){e.trueAnswersCount=t.amount}}}),x=n("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page"},[n("h1",[e._v("Привет!")]),n("p",[e._v("Добро пожаловать на "+e._s(e.setGameDay)+" тренировочный день.")]),n("p",[e._v("Ваш последний результат - решено "+e._s(e.trueAnswersCount)+" из "+e._s(e.turnCount)+".")]),n("p",[e._v("Общая точность "+e._s(e.setAccuracy)+" %.")]),n("Settings",{staticClass:"settings",on:{submit:e.handleSubmit}})],1)},O=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){return t.preventDefault(),e.$emit("submit",t.target)}}},[n("h2",[e._v("Настройки")]),n("ul",[n("li",[n("Range",{attrs:{"label-text":"Длительность "+e.time+" минут"+e.setTimeLabelTextEnding,id:"time",max:"5"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),n("li",[n("Range",{attrs:{"label-text":"Сложность "+e.setLevelTitle,id:"level",max:"3"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1)]),n("ul",e._l(e.tasks,function(t){return n("li",{key:t.id},[n("Checkbox",{attrs:{id:t.id,"label-text":t.title,"is-checked":e.checkOperations.indexOf(t.id)>-1}})],1)}),0),n("button",{attrs:{type:"submit"}},[e._v("Играть!")])])},$=[],S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{id:e.id,type:"checkbox",name:e.id},domProps:{checked:e.isChecked}}),n("label",{attrs:{for:e.id}},[e._v(e._s(e.labelText))])])},A=[],I={name:"Checkbox",props:{id:String,labelText:String,isChecked:Boolean}},D=I,M=(n("714d"),Object(f["a"])(D,S,A,!1,null,"0330d083",null)),G=M.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{id:e.id,type:"range",name:e.id,min:"1",max:e.max,step:"1"},domProps:{value:e.value},on:{change:function(t){return e.$emit("change",t.target.value)}}}),n("p",[n("label",{attrs:{for:e.id}},[e._v(e._s(e.labelText))])])])},E=[],L={name:"Range",model:{event:"change"},props:{id:String,labelText:String,max:String,value:String}},P=L,R=(n("bc5c"),Object(f["a"])(P,K,E,!1,null,"16aeb41e",null)),F=R.exports,V={id:"Settings",components:{Checkbox:G,Range:F},data:function(){return{time:this.$store.state.time,level:this.$store.state.level,tasks:y,checkOperations:this.$store.state.operations}},computed:{setTimeLabelTextEnding:function(){switch(this.time){case"1":return"а";case"5":return"";default:return"ы"}},setLevelTitle:function(){switch(this.level){case"1":return"легкая";case"3":return"трудная";default:return"средняя"}}}},B=V,J=(n("1474"),Object(f["a"])(B,j,$,!1,null,"1cd5e928",null)),U=J.exports,W={id:"MainPage",components:{Settings:U},data:function(){return{turnCount:this.$store.state.turnCount,trueAnswersCount:this.$store.state.trueAnswersCount,lastGameDate:this.$store.state.lastGameDate}},computed:{setGameDay:function(){return Math.floor((a()()-this.lastGameDate)/k)+1},setAccuracy:function(){return this.turnCount&&this.trueAnswersCount?Math.floor(this.trueAnswersCount/this.turnCount*100):0}},methods:Object(o["a"])({},Object(l["b"])(["setTime","setLevel","setOperations"]),{handleSubmit:function(e){var t=new FormData(e),n=t.get("time"),r=t.get("level"),s=y.map(function(e){var n=e.id;if(null!==t.get(n))return n}).filter(function(e){return e});this.setTime({amount:n}),this.setLevel({amount:r}),this.setOperations({amount:s}),s.length>0&&this.$router.push("/game")}})},q=W,z=(n("d7f7"),Object(f["a"])(q,N,O,!1,null,"cc6ddd2c",null)),H=z.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:e.stop}},[e._v("× Отмена")]),n("Timer",{attrs:{"round-time":e.roundTime,"current-time":e.currentTime}}),n("GameDisplay",{attrs:{operation:e.currentOperation,"user-input-color":e.userInputColor,"user-answer":e.userAnswer,"first-number":e.firstNumber,"result-number":e.resultNumber}}),n("Keyboard",{attrs:{"handle-key-click":e.handleKeyClick,pause:e.pause}})],1)},X=[],Y=n("e814"),Z=n.n(Y),ee=(n("28a5"),n("14b9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timer",class:{blink:e.currentTime<10},style:"background: linear-gradient(to right, #f6f6f6 "+e.barValue+"%, #e2f5ec "+e.barValue+"%)"},[e._v("\n    "+e._s(e.timeToView)+"\n")])}),te=[],ne=(n("c5f6"),{name:"Timer",props:{isWorked:Boolean,roundTime:Number,currentTime:Number},computed:{timeToView:function(){var e={minute:"2-digit",second:"2-digit"},t=new Intl.DateTimeFormat("en-US",e).format,n=new Date(1e3*this.currentTime);return t(n)},barValue:function(){return Math.floor(100*(this.roundTime-this.currentTime)/this.roundTime)}}}),re=ne,se=(n("18fd"),Object(f["a"])(re,ee,te,!1,null,"001dfac1",null)),ie=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keyboard"},e._l(e.keyTitles,function(t,r){return n("div",{key:r,staticClass:"key"},[n("RoundKey",{attrs:{"key-title":t,disabled:e.pause},on:{handleKeyClick:e.handleKeyClick}})],1)}),0)},ae=[],oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:[e.roundKeyClass,e.getClassForColor],attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("handleKeyClick",e.keyTitle)}}},[e._v("\n    "+e._s(e.keyTitle)+"\n")])},le=[],ce={name:"RoundKey",props:{keyTitle:String,disabled:Boolean},data:function(){return{numberColorClass:"green",stringColorClass:"grey",roundKeyClass:"round-key"}},computed:{getClassForColor:function(){return""===this.keyTitle?"blank":Z()(this.keyTitle)?"green":"grey"}}},me=ce,fe=(n("385c"),Object(f["a"])(me,oe,le,!1,null,"6a08a8e8",null)),he=fe.exports,de={name:"Keyboard",components:{RoundKey:he},props:{handleKeyClick:Function,pause:Boolean},data:function(){return{keyTitles:["1","2","3","<","4","5","6","","7","8","9","?","","0","","="]}},methods:{}},pe=de,be=(n("7317"),Object(f["a"])(pe,ue,ae,!1,null,"5e310c3e",null)),ve=be.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-display"},[n("p",[n("span",[e._v(e._s(e.firstNumber))]),n("span",[e._v(" "+e._s(e.setSign)+" ")]),n("span",{style:"color: "+e.userInputColor},[e._v(e._s(e.userAnswer))]),n("span",[e._v(" = ")]),n("span",[e._v(e._s(e.resultNumber)+" ")]),n("span",[e._v("? ")])])])},Te=[],ye={name:"GameDisplay",props:{operation:String,userAnswer:String,firstNumber:Number,resultNumber:Number,userInputColor:String},computed:{setSign:function(){var e=this;return y.filter(function(t){var n=t.id;return n===e.operation})[0].sign}}},Ce=ye,_e=(n("0651"),Object(f["a"])(Ce,ge,Te,!1,null,"b8ff5a0a",null)),ke=_e.exports,we={name:"GamePage",components:{GameDisplay:ke,Timer:ie,Keyboard:ve},data:function(){return{roundTime:this.$store.getters.roundTime,level:this.$store.state.level,operations:this.$store.state.operations,currentOperation:b,currentTime:0,timer:null,userInput:[],firstNumber:0,secondNumber:0,resultNumber:0,turnCount:0,trueAnswersCount:0,pause:!1,userInputColor:"lightgray"}},computed:{userAnswer:function(){var e=this.level-this.userInput.length;return("_".repeat(e)+this.userInput.join("")).substring(0,this.level)}},methods:Object(o["a"])({},Object(l["b"])(["setTurnCount","setTrueAnswersCount"]),{start:function(){var e=this;this.timer||(this.timer=setInterval(function(){e.currentTime>0?e.pause||e.currentTime--:(e.pause=!0,e.setTurnCount({amount:e.turnCount}),e.setTrueAnswersCount({amount:e.trueAnswersCount}),setTimeout(e.stop(),C))},1e3))},stop:function(){clearInterval(this.timer),this.$router.push("/")},handleKeyClick:function(e){this.userInput.length<this.level&&/^\d/.test(e)&&this.userInput.push(e),"<"===e&&this.userInput.length&&this.userInput.pop(),"?"===e&&(this.userInput=this.secondNumber.toFixed().split(""),this.userInputColor="#35495e",this.pause=!0,setTimeout(this.generateTask,C)),"="===e&&this.userInput.length>0&&(this.checkAnswer()?(this.trueAnswersCount++,this.userInputColor="#41b883"):this.userInputColor="red",this.pause=!0,setTimeout(this.generateTask,C))},generateTask:function(){if(this.pause=!1,!(this.currentTime<5)){this.turnCount++;var e=Math.floor(Math.random()*this.operations.length);this.currentOperation=this.operations[e],this.userInput=[],this.userInputColor="lightgray";var t=Math.pow(10,this.level)-2;this.prepareTask(t)}},prepareTask:function(e){var t;switch(this.firstNumber=Math.floor(Math.random()*e)+1,this.secondNumber=Math.floor(Math.random()*e)+1,this.currentOperation){case b:return void(this.resultNumber=this.firstNumber+this.secondNumber);case v:return t=this.firstNumber,this.resultNumber=this.firstNumber+this.secondNumber,this.firstNumber=this.resultNumber,void(this.resultNumber=t);case g:return void(this.resultNumber=this.firstNumber*this.secondNumber);case T:return t=this.firstNumber,this.resultNumber=this.firstNumber*this.secondNumber,this.firstNumber=this.resultNumber,void(this.resultNumber=t)}},checkAnswer:function(){return Z()(this.userInput.join(""))===this.secondNumber}}),mounted:function(){this.currentTime=this.roundTime,this.generateTask(),this.start()}},xe=we,Ne=(n("afb9"),Object(f["a"])(xe,Q,X,!1,null,"07b1636a",null)),Oe=Ne.exports;r["a"].use(x["a"]);var je=new x["a"]({mode:"history",base:"/brain-trainer/",routes:[{path:"/",name:"main",component:H},{path:"/game",name:"game",component:Oe}]});n("f5df");r["a"].config.productionTip=!1,new r["a"]({el:"#app",store:w,router:je,render:function(e){return e(d)}})},"64a9":function(e,t,n){},"714d":function(e,t,n){"use strict";var r=n("940c"),s=n.n(r);s.a},7317:function(e,t,n){"use strict";var r=n("7cdd"),s=n.n(r);s.a},"7cdd":function(e,t,n){},8532:function(e,t,n){},"940c":function(e,t,n){},"978f":function(e,t,n){},a9f9:function(e,t,n){},afb9:function(e,t,n){"use strict";var r=n("0d38"),s=n.n(r);s.a},bc5c:function(e,t,n){"use strict";var r=n("1912"),s=n.n(r);s.a},d7f7:function(e,t,n){"use strict";var r=n("0bad"),s=n.n(r);s.a}});
//# sourceMappingURL=app.51279d59.js.map